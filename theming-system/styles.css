/**
 * Product Showcase - Theming System
 * 
 * ARCHITECTURE CHOICE:
 * Choose either CUBE CSS or BEM for organizing your CSS.
 * Document your choice and follow it consistently throughout.
 * 
 * CUBE CSS approach:
 * - Composition: Layout patterns (.flow, .grid, .cluster)
 * - Utilities: Single-purpose classes (.text-center, .font-bold)
 * - Blocks: Component styles (.card, .button)
 * - Exceptions: State variations (add additional classes as needed)
 * 
 * BEM approach:
 * - Blocks: Standalone components (.card)
 * - Elements: Parts of blocks (.card__title, .card__image)
 * - Modifiers: Variations (.card--featured)
 * 
 * ORGANIZATION:
 * You may create additional CSS files if you prefer to separate:
 * - Base styles and custom properties
 * - Layout patterns
 * - Components
 * - Utilities
 * 
 * MODERN CSS FEATURES TO USE:
 * - CSS nesting throughout
 * - Custom properties for theming
 * - color-mix() for color variations
 * - Modern selectors (:is, :where, :has, :not)
 * - Logical properties (margin-inline, padding-block)
 * 
 * REQUIREMENTS:
 * 1. Define theme system with custom properties
 * 2. Implement light and dark themes
 * 3. Support prefers-color-scheme
 * 4. Use color-mix() for color variations
 * 5. Create responsive layout
 * 6. Ensure accessibility (contrast, focus indicators, reduced motion)
 * 7. Style all components and states
 */

/* Your CSS implementation goes here */


/* ---------------- Base Custom Properties ---------------- */
:root {
  /* Base Colors */
  --blue-50: oklch(0.5 0.15 250);
  --gray-100: oklch(0.95 0 0);
  --gray-900: oklch(0.15 0 0);

  /* Semantic Colors - Light Theme */
  --color-background: var(--gray-100);
  --color-text: var(--gray-900);
  --color-text-secondary: oklch(0.45 0 0);
  --color-primary: var(--blue-50);
  --color-primary-light: color-mix(in oklch, var(--color-primary) 60%, white);
  --color-primary-dark: color-mix(in oklch, var(--color-primary) 80%, black);
  --color-primary-hover: color-mix(in oklch, var(--color-primary) 90%, black);
  --color-surface: oklch(0.99 0 0);
  --color-shadow: oklch(0 0 0 / 0.15);

  /* Layout Variables */
  --flow-space: 1.5rem;
  --grid-gap: 2rem;

  /* Typography */
  --font-family: 'Inter', sans-serif;
  --heading-size: 2rem;
  --text-size: 1rem;
  --radius: 0.5rem;

  /* Transitions */
  --transition-speed: 0.3s;
}

/* Dark Theme Overrides */
.dark-theme {
  --color-background: var(--gray-900);
  --color-text: var(--gray-100);
  --color-text-secondary: oklch(0.7 0 0);
  --color-surface: oklch(0.18 0 0);
  --color-shadow: oklch(0 0 0 / 0.5);
}

/* System Preference */
@media (prefers-color-scheme: dark) {
  :root:not(.dark-theme):not(.light-theme) {
    --color-background: var(--gray-900);
    --color-text: var(--gray-100);
    --color-text-secondary: oklch(0.7 0 0);
    --color-surface: oklch(0.18 0 0);
  }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
  }
}

/* ---------------- Base Styles ---------------- */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: var(--font-family);
  font-size: var(--text-size);
  color: var(--color-text);
  background: var(--color-background);
  line-height: 1.6;
  transition: background var(--transition-speed) ease, color var(--transition-speed) ease;
}

img {
  max-width: 100%;
  display: block;
  border-radius: var(--radius);
}

/* ---------------- Composition Classes (CUBE CSS) ---------------- */
.flow > * + * {
  margin-block-start: var(--flow-space);
}

.grid {
  display: grid;
  gap: var(--grid-gap);
  grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));
}

/* ---------------- Header ---------------- */
.site-header {
  background: var(--color-surface);
  padding-block: 1rem;
  box-shadow: 0 0.25rem 1rem var(--color-shadow);
  transition: background var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
}

.header-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin-inline: auto;
  padding-inline: 1rem;
}

.site-title {
  margin: 0;
  font-size: 1.75rem;
}

/* Theme Toggle Button */
.theme-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  background: var(--color-primary);
  color: var(--color-background);
  border: none;
  border-radius: var(--radius);
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: background var(--transition-speed), color var(--transition-speed);
}

.theme-toggle:hover {
  background: var(--color-primary-hover);
}

.theme-toggle:focus {
  outline: 3px solid var(--color-primary-light);
  outline-offset: 2px;
}

/* ---------------- Hero Section ---------------- */
.hero {
  text-align: center;
  padding-block: 3rem;
  background: linear-gradient(
    135deg,
    var(--color-primary-light) 0%,
    var(--color-primary) 100%
  );
  color: var(--color-background);
}

.hero-title {
  font-size: 2.5rem;
  margin: 0 0 1rem 0;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.25);
}

.hero-description {
  max-width: 600px;
  margin-inline: auto;
  color: var(--color-background);
}


/* ---------------- Filters ---------------- */
.filter-buttons {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1rem;
  padding-block: 1rem;
}

.filter-button {
  padding: 0.5rem 1rem;
  border: 2px solid var(--color-primary);
  background: none;
  color: var(--color-text);
  border-radius: var(--radius);
  cursor: pointer;
  transition: background var(--transition-speed), color var(--transition-speed);
}

.filter-button:hover,
.filter-button:focus {
  background: var(--color-primary-light);
  color: var(--color-background);
}

.filter-button.active {
  background: var(--color-primary);
  color: var(--color-background);
}

/* ---------------- Product Cards ---------------- */
.product-card {
  background: var(--color-surface);
  border-radius: var(--radius);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: box-shadow var(--transition-speed), transform var(--transition-speed);
}

.product-card:hover {
  box-shadow: 0 0.5rem 1.5rem var(--color-shadow);
  transform: translateY(-0.25rem);
}

.product-content {
  padding: 1rem;
}

.product-title {
  margin: 0 0 0.5rem 0;
  font-size: 1.25rem;
}

.product-description {
  margin: 0 0 1rem 0;
  color: var(--color-text-secondary);
  font-size: 0.95rem;
}

.product-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.product-button {
  padding: 0.5rem 1rem;
  border: none;
  border-radius: var(--radius);
  background: var(--color-primary);
  color: var(--color-background);
  cursor: pointer;
  transition: background var(--transition-speed);
}

.product-button:hover,
.product-button:focus {
  background: var(--color-primary-dark);
  outline: 3px solid var(--color-primary-light);
  outline-offset: 2px;
}

/* ---------------- Footer ---------------- */
.site-footer {
  text-align: center;
  padding-block: 2rem;
  background: var(--color-surface);
  color: var(--color-text-secondary);
}

/* ---------------- Responsive ---------------- */
@media (max-width: 768px) {
  .hero-title {
    font-size: 2rem;
  }

  .grid {
    grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
  }
}

@media (max-width: 480px) {
  .header-content {
    flex-direction: column;
    gap: 1rem;
  }

  .hero-title {
    font-size: 1.75rem;
  }

  .filter-buttons {
    flex-direction: column;
    gap: 0.5rem;
  }
}

/* ---------------- Product Images - Responsive ---------------- */
.product-image {
  width: 100%;
  height: auto; 
  object-fit: cover;
  max-height: 250px; 
  transition: transform var(--transition-speed);
}

.product-card:hover .product-image {
  transform: scale(1.03); 
}

/* ---------------- Theme Toggle - Animated Icon ---------------- */
.theme-toggle .theme-icon-light,
.theme-toggle .theme-icon-dark {
  display: inline-block;
  transition: transform 0.3s ease;
}

.theme-toggle:hover .theme-icon-light {
  transform: rotate(20deg);
}

.theme-toggle:hover .theme-icon-dark {
  transform: rotate(-20deg);
}
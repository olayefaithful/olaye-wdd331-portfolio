/**
 * Portfolio Card Grid with Subgrid
 * 
 * TODO: Implement a card grid that demonstrates THE KEY SUBGRID USE CASE:
 * 1. Without Subgrid - Content misaligns across cards
 * 2. With Subgrid - Titles, images, descriptions, and buttons all align
 * 
 * This is the exact problem you learned about in the Subgrid reading!
 * 
 * Key Requirements:
 * - Create parent grid with defined row tracks
 * - Make cards use subgrid to inherit those rows
 * - Use auto-fit for responsive columns
 * - Watch content align beautifully across cards despite varying lengths
 */

/* ===========================================
   PAGE STRUCTURE
   =========================================== */
body {
    background: var(--color-background);
}

.portfolio-page {
    min-height: 100vh;
}

/* ===========================================
   HEADER
   =========================================== */
.portfolio-header {
    background: var(--color-surface);
    padding: var(--spacing-xl);
    text-align: center;
    box-shadow: var(--shadow-sm);
}

.portfolio-header h1 {
    margin-bottom: var(--spacing-sm);
}

.portfolio-header p {
    color: var(--color-text-muted);
    max-width: 600px;
    margin: 0 auto;
}

/* ===========================================
   PORTFOLIO GRID (THE SUBGRID PROBLEM!)
   =========================================== */
.portfolio-section {
    max-width: var(--content-max-width);
    margin: 0 auto;
    padding: var(--spacing-xl);
}

.portfolio-grid {
     display: grid;
    grid-template-columns: repeat(
        auto-fit,
        minmax(min(320px, 100%), 1fr)
    );
    gap: var(--spacing-xl);

    grid-auto-rows: auto 250px 1fr auto;
}

.portfolio-card {
      display: grid;
    grid-template-rows: auto 250px 1fr auto;
    gap: var(--spacing-med);
    
    background: var(--color-surface);
    border-radius: var(--radius-med);
    padding: var(--spacing-lg);
    box-shadow: var(--shadow-sm);
    border: 1px solid var(--color-border);
}

/* ===========================================
   CARD CONTENT (Direct Children of Card)
   =========================================== */
.portfolio-card-title {
    /*
       No positioning needed! 
       As a direct child of the subgrid, this automatically
       goes in the first row and aligns across all cards.
    */
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--spacing-sm);
    padding-bottom: var(--spacing-sm);
    border-bottom: 2px solid var(--color-primary);
    color: var(--color-text);
}

.portfolio-card-image {
    /*
       Second row - fixed 250px height from parent.
       Images all align horizontally across cards!
    */
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: var(--radius-sm);
}

.portfolio-card-description {
    /*
       Third row - 1fr means this expands to fill available space.
       Longer descriptions push the footer down, but because of subgrid,
       ALL footers across ALL cards move down together. Beautiful!
    */
    font-size: var(--font-size-med);
    color: var(--color-text-muted);
    line-height: var(--line-height-lg);
    align-self: start;
}

.portfolio-card-footer {
    /*
       Fourth row - all footers align at the same baseline!
       This is impossible without subgrid.
    */
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--spacing-med);
    border-top: 1px solid var(--color-border);
}

.card-tag {
    font-size: var(--font-size-sm);
    color: var(--color-primary);
    background: rgba(59, 130, 246, 0.1);
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-sm);
}

/* ===========================================
   FALLBACK FOR BROWSERS WITHOUT SUBGRID
   =========================================== */
@supports (grid-template-rows: subgrid) {
    .portfolio-card {
        grid-template-rows: subgrid;
        grid-row: span 4;
    }
}

   /*
   TODO: Add @supports rule for progressive enhancement
   
   Default (no subgrid support):
   - Cards work fine but content doesn't align across cards
   - Each card has: grid-template-rows: auto auto 1fr auto;
   
   With subgrid support:
   - Wrap your subgrid code in: @supports (grid-template-rows: subgrid) { }
   - Parent gets explicit row tracks
   - Cards span 4 rows and use subgrid
   
   This ensures the layout works for everyone, enhanced for modern browsers!
*/

/* ===========================================
   REFLECTION QUESTIONS
   =========================================== */
/*
   ANSWER THESE IN YOUR ASSIGNMENT FORM:
   
   1. What problem does subgrid solve in this layout?
      - Without subgrid, what happens when one card has a longer title?
      - How does subgrid fix this?
   
   2. What would happen if you DIDN'T use subgrid here?
      - Try it! Comment out the subgrid code temporarily.
      - How does the layout look different?
      - Why is subgrid better for this use case?
   
   3. When should you NOT use subgrid?
      - If each card had completely different content structure?
      - If cards were independent modules with no alignment needs?
*/
